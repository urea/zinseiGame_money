# 人生ゲーム - 設計書

## 1. 概要

このドキュメントは、HTMLファイル (`index.html`) と JavaScriptファイル(`script.js`) を基に作成された、人生ゲームのマネー入力画面の設計書です。このゲームでは、複数のプレイヤーが参加し、各プレイヤーの所持金を記録・管理します。ユーザーは、プレイヤー名、人数、金額を入力し、入力履歴を確認することができます。また、プレイデータをリセットする機能も備えています。ローカルストレージを使用してゲームの状態を保存・復元します。

## 2. 機能

### 2.1. プレイヤー人数選択

-   **機能**: プレイヤーの人数を選択します。
-   **選択肢**: 2人、3人、4人、5人
-   **初期値**: 2人
-   **実装**: `<select id="playerNumberSelect">` で実装。
- **動作**:
    - 選択された人数に応じて、プレイヤー名入力欄とプレイヤー表示エリアの表示・非表示が切り替わる。
    - リセットボタンを押下すると、自動で「2」になる。
    - ゲームに履歴がまだない場合表示する。
    - ゲームに履歴がある場合非表示にする。

### 2.2. プレイヤー名入力

-   **機能**: 各プレイヤーの名前を入力します。
-   **入力欄**: プレイヤーの人数に応じて表示されます。
-   **初期値**: プレイヤー1、プレイヤー2、...
-   **実装**: `<input type="text" id="playerName1" class="playerNameInput">` などで実装。
- **動作**:
    - 入力欄がフォーカスされた場合、テキストが全選択されます。
    - プレイヤー人数に応じて、必要な入力欄のみが表示される。
- **表示切替**: プレイヤー人数選択を変更すると、表示するプレイヤー名入力欄が切り替わる。
- **表示**:
    -  プレイヤー人数のセレクトボックスで選択された人数に合わせて、対応するプレイヤー名入力欄だけが表示される。
    -  例えば、「2」を選択した場合は「プレイヤー1名:」「プレイヤー2名:」の入力欄だけが表示され、「3」を選択した場合は「プレイヤー3名:」の入力欄も追加で表示される。
- **非表示**:入力履歴がある場合は表示されない。

### 2.3. プレイヤー選択

-   **機能**: 金額を入力するプレイヤーを選択します。
-   **選択肢**: プレイヤー1、プレイヤー2、プレイヤー3、プレイヤー4、プレイヤー5
-   **初期値**: プレイヤー1
-   **実装**: `<select id="playerSelect">` で実装。
- **動作**:
    - セレクトボックスで選択するほかに、プレイヤー表示エリアでも選択できる。
    - 選択肢はプレイヤー人数に合わせたものになる。

### 2.4. 金額入力

-   **機能**: 選択されたプレイヤーの金額を入力します。
-   **入力形式**: 数値入力 (正負の整数)
-   **実装**: `<input type="number" id="amountInput">` で実装。
- **上下矢印ボタン非表示**：金額入力欄の上下矢印ボタンは非表示
- **動作**:
   - 入力欄がフォーカスされた場合、テキストは空になる。

### 2.5. 金額入力確定

-   **機能**: 入力した金額を確定します。
-   **操作**: OKボタンをクリックします。
-   **実装**: `<button id="okButton">OK</button>` で実装。
- **動作**:
	- 「OK」ボタンがクリックされると、選択されたプレイヤーと入力された金額が履歴テーブルに追加される。
	- 「OK」ボタンをクリック後、次のプレイヤーが選択される。

### 2.6. 入力履歴表示

-   **機能**: 入力された金額の履歴を表示します。
-   **表示項目**:
    -   no (履歴番号)
    -   name (プレイヤー名)
    -   money (金額)
    -   削除 (削除ボタン)
-   **実装**: `<table id="historyTable">` で実装。
- **初期状態**：初期表示は空
- **列構成**：
	- 1列目(no)：連番を表示する。
	- 2列目(name): プレイヤー名
	- 3列目(money): 金額
	- 4列目(削除)：レコード削除ボタン。

### 2.7. プレイヤー表示エリア

-   **機能**: プレイヤーを視覚的に表示し、選択状態を表現します。
-   **表示**: 各プレイヤーがボックスで表示され、選択されたプレイヤーはハイライトされます。
- **初期表示**: 5人分のエリアが表示される。
-   **実装**: `<div id="players">`、`<div class="player">` で実装。
- **選択状態の表現**:
	- 選択されたプレイヤーのボックスは背景色が水色（lightblue）になり、文字が太字（bold）になり、ボーダーが2pxの青（blue）の実線になる。
- **動作**: クリックすることで、プレイヤーの選択が可能。
- **表示切り替え**:プレイヤー人数を変更すると、表示されるエリアが変更する。

### 2.8.  プレイヤー人数に応じて、不要な領域は非表示にする。

-   **機能**：選択されたプレイヤー人数に応じて、不要な領域を非表示にします。
- **詳細**：
	- 例えば、2人を選択した場合、プレイヤー3～5に関連する入力欄、表示エリア、選択肢を非表示とする。
	- 同様に3人を選択した場合、プレイヤー4～5の領域を非表示とする。

### 2.9. レコード削除機能

-   **機能**：入力履歴テーブルに表示されたレコードを削除することができる。
- **詳細**：各レコードの削除列に削除ボタンが表示されている。
- **動作**:レコード削除後、ローカルストレージに保存する。

### 2.10. リセット機能

-   **機能**: 入力したデータを初期状態に戻します。
-   **操作**: 「リセット」ボタンをクリックします。
-   **実装**: `<button id="resetButton">リセット</button>` で実装。
- **確認**: リセットボタンを押すと、確認メッセージが表示される。
- **初期状態**：
	- プレイヤー人数：2人
	- プレイヤー名：プレイヤー1～5
	- プレイヤーの合計金額：0
	- 入力履歴：空
- **ローカルストレージの利用**：
    - ローカルストレージを利用し、ゲームの状態を保存・復元する。
	- リセットボタンをクリックすることで、ローカルストレージを削除する。

## 3. UIデザイン

### 3.1. 全体レイアウト

-   **フォント**: sans-serif
-   **メインタイトル**: `<h1>` で表示 (人生ゲーム - 入力)
-   **サブタイトル**: `<h2>` で表示 (入力履歴)
- **ヘッダー**:
	- リセットボタン
	- 人生ゲーム - 入力 (h1)
	- プレイヤー人数： (label)
	- プレイヤー人数のセレクトボックス(select)
	- プレイヤー名入力エリア
- **メインコンテンツ**:
	- プレイヤー表示エリア
	- 入力エリア
		- プレイヤー選択セレクトボックス
		- 金額入力欄
		- OKボタン
	- 入力履歴テーブル

### 3.2. プレイヤー表示エリア

-   **表示**: ボックスで表示
-   **スタイル**:
    -   ボーダー: 1px solid #ccc
    -   パディング: 10px
    -   幅: calc(20% - 12px) (5人で均等表示)
    -   テキスト: 中央寄せ
    -   選択時: 背景色: lightblue, 文字: bold, ボーダー: 2px solid blue

### 3.3. 入力履歴テーブル

-   **表示**: テーブル形式
-   **スタイル**:
    -   幅: 100%
    -   ボーダー: 1px solid #ccc
    -   パディング: 8px
    -   テキスト: 中央寄せ

### 3.4. 金額入力欄

- 上下矢印ボタンは非表示

### 3.5. リセットボタン

-   **表示**：ボタン形式
-   **名前**：「リセット」

## 4. 実装

-   **HTML**: `index.html`
-   **JavaScript**: `script.js` (外部ファイルとして参照)
- **CSS**: `<style>`タグ内に記述
- **ローカルストレージ**: ブラウザのローカルストレージを使用
    - リセットボタンを押下することで、ローカルストレージのデータが削除される。
    - ページを読み込んだ際に、ローカルストレージのデータを読み込み初期化する。

## 5. 今後の拡張について

-   ゲーム本体の実装内容について。
-   CSSの具体的な実装内容について
- 複数ブラウザとの互換性について
- 入力値の検証について

---
